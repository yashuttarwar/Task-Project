{"ast":null,"code":"import _objectSpread from\"C:/Users/yashu/OneDrive/Documents/Desktop/Task-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useEffect,useState}from\"react\";import axios from\"axios\";import\"../App.css\";// make sure App.css exists\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TaskPage(){const[tasks,setTasks]=useState([]);const[title,setTitle]=useState(\"\");const[status,setStatus]=useState(\"Pending\");const[editId,setEditId]=useState(null);useEffect(()=>{fetchTasks();},[]);const fetchTasks=async()=>{try{const token=localStorage.getItem(\"token\");const res=await axios.get(\"/api/tasks\",{headers:{Authorization:\"Bearer \".concat(token)}});setTasks(res.data);}catch(err){console.error(\"‚ùå Could not fetch tasks:\",err.message);}};const saveTask=async e=>{e.preventDefault();if(!title.trim())return;try{const token=localStorage.getItem(\"token\");if(editId){await axios.put(\"/api/tasks/\".concat(editId),{title,status},{headers:{Authorization:\"Bearer \".concat(token)}});setEditId(null);}else{await axios.post(\"/api/tasks\",{title,status},{headers:{Authorization:\"Bearer \".concat(token)}});}setTitle(\"\");setStatus(\"Pending\");fetchTasks();}catch(err){console.error(\"‚ùå Error saving task:\",err.message);}};const deleteTask=async id=>{if(!window.confirm(\"Delete this task?\"))return;try{const token=localStorage.getItem(\"token\");await axios.delete(\"/api/tasks/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}});fetchTasks();}catch(err){console.error(\"‚ùå Error deleting task:\",err.message);}};const editTask=task=>{setTitle(task.title);setStatus(task.status);setEditId(task._id);};const updateStatus=async(task,newStatus)=>{try{const token=localStorage.getItem(\"token\");await axios.put(\"/api/tasks/\".concat(task._id),_objectSpread(_objectSpread({},task),{},{status:newStatus}),{headers:{Authorization:\"Bearer \".concat(token)}});fetchTasks();}catch(err){console.error(\"‚ùå Error updating status:\",err.message);}};const getStatusColor=status=>{switch(status){case\"Pending\":return\"bg-yellow-100 text-yellow-800\";case\"In-progress\":return\"bg-blue-100 text-blue-800\";case\"Done\":return\"bg-green-100 text-green-800\";default:return\"bg-gray-100 text-gray-800\";}};return/*#__PURE__*/_jsxs(\"div\",{className:\"task-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"task-title\",children:\"\\uD83D\\uDCDD Task Manager\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveTask,className:\"task-form\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter task title\",value:title,onChange:e=>setTitle(e.target.value),className:\"task-input\"}),/*#__PURE__*/_jsxs(\"select\",{value:status,onChange:e=>setStatus(e.target.value),className:\"task-select\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"Pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In-progress\",children:\"In-progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Done\",children:\"Done\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn\",children:editId?\"‚úèÔ∏è Update Task\":\"‚ûï Add Task\"}),editId&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setEditId(null);setTitle(\"\");setStatus(\"Pending\");},className:\"btn-cancel\",children:\"\\u274C Cancel\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"task-list\",children:tasks.length>0?tasks.map(task=>/*#__PURE__*/_jsxs(\"li\",{className:\"task-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"task-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"task-title-text\",children:task.title}),/*#__PURE__*/_jsx(\"span\",{className:\"task-badge \".concat(getStatusColor(task.status)),children:task.status})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"task-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>editTask(task),className:\"btn-action\",title:\"Edit Task\",children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateStatus(task,\"Pending\"),className:\"btn-action\",title:\"Mark Pending\",children:\"\\uD83D\\uDD53\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateStatus(task,\"In-progress\"),className:\"btn-action\",title:\"Mark In-progress\",children:\"\\u26A1\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>updateStatus(task,\"Done\"),className:\"btn-action\",title:\"Mark Done\",children:\"\\u2705\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteTask(task._id),className:\"btn-delete\",title:\"Delete Task\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]},task._id)):/*#__PURE__*/_jsx(\"p\",{className:\"task-empty\",children:\"No tasks yet.\"})})]});}export default TaskPage;","map":{"version":3,"names":["useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","TaskPage","tasks","setTasks","title","setTitle","status","setStatus","editId","setEditId","fetchTasks","token","localStorage","getItem","res","get","headers","Authorization","concat","data","err","console","error","message","saveTask","e","preventDefault","trim","put","post","deleteTask","id","window","confirm","delete","editTask","task","_id","updateStatus","newStatus","_objectSpread","getStatusColor","className","children","onSubmit","type","placeholder","value","onChange","target","onClick","length","map"],"sources":["C:/Users/yashu/OneDrive/Documents/Desktop/Task-app/frontend/src/pages/TaskPage.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"../App.css\"; // make sure App.css exists\r\n\r\nfunction TaskPage() {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [status, setStatus] = useState(\"Pending\");\r\n  const [editId, setEditId] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchTasks();\r\n  }, []);\r\n\r\n  const fetchTasks = async () => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      const res = await axios.get(\"/api/tasks\", { headers: { Authorization: `Bearer ${token}` } });\r\n      setTasks(res.data);\r\n    } catch (err) {\r\n      console.error(\"‚ùå Could not fetch tasks:\", err.message);\r\n    }\r\n  };\r\n\r\n  const saveTask = async (e) => {\r\n    e.preventDefault();\r\n    if (!title.trim()) return;\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (editId) {\r\n        await axios.put(`/api/tasks/${editId}`, { title, status }, { headers: { Authorization: `Bearer ${token}` } });\r\n        setEditId(null);\r\n      } else {\r\n        await axios.post(\"/api/tasks\", { title, status }, { headers: { Authorization: `Bearer ${token}` } });\r\n      }\r\n      setTitle(\"\");\r\n      setStatus(\"Pending\");\r\n      fetchTasks();\r\n    } catch (err) {\r\n      console.error(\"‚ùå Error saving task:\", err.message);\r\n    }\r\n  };\r\n\r\n  const deleteTask = async (id) => {\r\n    if (!window.confirm(\"Delete this task?\")) return;\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      await axios.delete(`/api/tasks/${id}`, { headers: { Authorization: `Bearer ${token}` } });\r\n      fetchTasks();\r\n    } catch (err) {\r\n      console.error(\"‚ùå Error deleting task:\", err.message);\r\n    }\r\n  };\r\n\r\n  const editTask = (task) => {\r\n    setTitle(task.title);\r\n    setStatus(task.status);\r\n    setEditId(task._id);\r\n  };\r\n\r\n  const updateStatus = async (task, newStatus) => {\r\n    try {\r\n      const token = localStorage.getItem(\"token\");\r\n      await axios.put(`/api/tasks/${task._id}`, { ...task, status: newStatus }, { headers: { Authorization: `Bearer ${token}` } });\r\n      fetchTasks();\r\n    } catch (err) {\r\n      console.error(\"‚ùå Error updating status:\", err.message);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch(status){\r\n      case \"Pending\": return \"bg-yellow-100 text-yellow-800\";\r\n      case \"In-progress\": return \"bg-blue-100 text-blue-800\";\r\n      case \"Done\": return \"bg-green-100 text-green-800\";\r\n      default: return \"bg-gray-100 text-gray-800\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"task-container\">\r\n      <h1 className=\"task-title\">üìù Task Manager</h1>\r\n\r\n      <form onSubmit={saveTask} className=\"task-form\">\r\n        <input \r\n          type=\"text\" \r\n          placeholder=\"Enter task title\" \r\n          value={title} \r\n          onChange={(e) => setTitle(e.target.value)} \r\n          className=\"task-input\"\r\n        />\r\n        <select value={status} onChange={(e) => setStatus(e.target.value)} className=\"task-select\">\r\n          <option value=\"Pending\">Pending</option>\r\n          <option value=\"In-progress\">In-progress</option>\r\n          <option value=\"Done\">Done</option>\r\n        </select>\r\n        <button type=\"submit\" className=\"btn\">{editId ? \"‚úèÔ∏è Update Task\" : \"‚ûï Add Task\"}</button>\r\n        {editId && <button type=\"button\" onClick={() => { setEditId(null); setTitle(\"\"); setStatus(\"Pending\"); }} className=\"btn-cancel\">‚ùå Cancel</button>}\r\n      </form>\r\n\r\n      <ul className=\"task-list\">\r\n        {tasks.length > 0 ? tasks.map((task) => (\r\n          <li key={task._id} className=\"task-item\">\r\n            <div className=\"task-info\">\r\n              <span className=\"task-title-text\">{task.title}</span>\r\n              <span className={`task-badge ${getStatusColor(task.status)}`}>{task.status}</span>\r\n            </div>\r\n            <div className=\"task-actions\">\r\n              <button onClick={() => editTask(task)} className=\"btn-action\" title=\"Edit Task\">‚úèÔ∏è</button>\r\n              <button onClick={() => updateStatus(task, \"Pending\")} className=\"btn-action\" title=\"Mark Pending\">üïì</button>\r\n              <button onClick={() => updateStatus(task, \"In-progress\")} className=\"btn-action\" title=\"Mark In-progress\">‚ö°</button>\r\n              <button onClick={() => updateStatus(task, \"Done\")} className=\"btn-action\" title=\"Mark Done\">‚úÖ</button>\r\n              <button onClick={() => deleteTask(task._id)} className=\"btn-delete\" title=\"Delete Task\">üóëÔ∏è</button>\r\n            </div>\r\n          </li>\r\n        )) : <p className=\"task-empty\">No tasks yet.</p>}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TaskPage;\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}